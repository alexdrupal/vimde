#!/bin/bash
#Script for change syntax in project from PHP
operation=$1
project_name=$2
project_language=3
project_type=5
#Check the exist two arguments, name of operation and syntax project_name
if [[ -z "$operation" || -z "$project_name" ]]; then
    	    echo "Usage is: $0 (create | update) project_name"
	    echo "Only A-Z,a-z,_and. is available in project name"
    exit 1
fi
if [[ $operation != "create" && $operation != "update" ]]; then
  	    echo "Usage is: $0 (create | update) project_name"
	    echo "Only A-Z,a-z,_and. is available in project name"
    exit 1
fi
if [[ ! $project_name =~ ^[a-z_-.]+$ ]]; then
	    echo "Usage is: $0 (create | update) project_name"
	    echo "Only A-Z,a-z,_and. is available in project name"
    exit 1
fi
#If entered two arguments, entered path to project and check exist of folder
    echo "Enter all path on your project:"
    read project_path
    if [[ ! -d "$project_path"  ]]; then
	echo "Not found folder of your project!"
	exit 1
    fi
#Choiсe the project_language of two variants     
while [[ $project_language -ne 1 && $project_language -ne 2 ]]
do     
    echo "Please, specify language (1-2)"
    echo "1.Php"
    echo "2.Python"
    read project_language
   
    if [[ $project_language -ne 1 && $project_language -ne 2 ]]; then
	echo "wrong choice, please enter 1 or 2"
    fi

done

if [[ $project_language -eq  1 ]]; then
    project_language="Php"
fi

if [[ $project_language -eq  2 ]]; then
    project_language="Python"
fi

#Check value of variable project_language
echo "Your choice is $project_language"

#Choiсe the project_type of four variants     
while [[ $project_type -ne 1 && $project_type -ne 2 && $project_type -ne 3 && $project_type -ne 4 ]]
do     
    echo "Please, specify project type (1-4)"
    echo "1.Plain php"
    echo "2.Drupal"
    echo "3.Magento"
    echo "4.Symfony"
    read project_type
   
    if [[ $project_type -ne 1 && $project_type -ne 2 && $project_type -ne 3 && $project_type -ne 4 ]]; then
	echo "wrong choice, please enter value 1-4"
    fi

done

if [[ $project_type -eq  1 ]]; then
    project_type="Plain_php"
fi

if [[ $project_type -eq  2 ]]; then
    project_type="Drupal"
fi

if [[ $project_type -eq  3 ]]; then
    project_type="Magento"
fi

if [[ $project_type -eq  4 ]]; then
    project_type="Symfony"
fi


#Check value of variable project_type
echo "Your choice is $project_type"


exit 0
